<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Code Blog</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        header {
            background-color: #343a40;
            color: #fff;
            padding: 2rem 0;
            text-align: center;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        .subtitle {
            font-size: 1.2rem;
            color: #e9ecef;
            margin-bottom: 1rem;
        }
        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem 0;
        }
        .blog-card {
            background-color: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-decoration: none;
            color: inherit;
            display: block;
        }
        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .blog-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }
        .blog-content {
            padding: 1.5rem;
        }
        .blog-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: #212529;
        }
        .blog-date {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        .blog-excerpt {
            color: #495057;
            margin-bottom: 1rem;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }
        .read-more {
            display: inline-block;
            color: #007bff;
            font-weight: bold;
        }
        footer {
            background-color: #343a40;
            color: #fff;
            text-align: center;
            padding: 1.5rem 0;
            margin-top: 2rem;
        }
        @media (max-width: 768px) {
            .blog-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>My Code Blog</h1>
            <div class="subtitle">Tutorials, Examples and Code Snippets</div>
        </div>
    </header>

    <div class="container">
        <div class="blog-grid" id="blogGrid">
            <!-- Blog posts will be dynamically inserted here -->
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 My Code Blog. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Function to scan and display blog posts
            async function loadBlogPosts() {
                try {
                    // Get list of all HTML files in the directory
                    const response = await fetch('.');
                    const text = await response.text();
                    
                    // Create a temporary element to parse the HTML response
                    const parser = new DOMParser();
                    const htmlDoc = parser.parseFromString(text, 'text/html');
                    
                    // Extract links to HTML files (excluding index/landing page)
                    const links = Array.from(htmlDoc.querySelectorAll('a'))
                        .filter(a => a.href.endsWith('.html') && 
                               !a.href.includes('index.html') && 
                               !a.href.endsWith('/'));
                    
                    const blogGrid = document.getElementById('blogGrid');
                    
                    // Process each blog file
                    for (const link of links) {
                        const blogUrl = link.href;
                        const blogFilename = blogUrl.substring(blogUrl.lastIndexOf('/') + 1);
                        
                        // Fetch each blog file to extract metadata
                        const blogResponse = await fetch(blogFilename);
                        const blogContent = await blogResponse.text();
                        const blogDoc = parser.parseFromString(blogContent, 'text/html');
                        
                        // Extract blog metadata
                        const title = blogDoc.querySelector('title')?.textContent || 'Untitled Blog';
                        const metaDescription = blogDoc.querySelector('meta[name="description"]')?.getAttribute('content') || '';
                        const metaDate = blogDoc.querySelector('meta[name="date"]')?.getAttribute('content') || 'No date';
                        const metaImage = blogDoc.querySelector('meta[name="featured-image"]')?.getAttribute('content') || '/api/placeholder/400/320';
                        
                        // Create blog card
                        const blogCard = document.createElement('a');
                        blogCard.href = blogFilename;
                        blogCard.className = 'blog-card';
                        blogCard.innerHTML = `
                            <img src="${metaImage}" alt="${title}" class="blog-image">
                            <div class="blog-content">
                                <h2 class="blog-title">${title}</h2>
                                <div class="blog-date">${metaDate}</div>
                                <p class="blog-excerpt">${metaDescription}</p>
                                <span class="read-more">Read More</span>
                            </div>
                        `;
                        
                        blogGrid.appendChild(blogCard);
                    }
                    
                    // If no blogs were found, show a message
                    if (blogGrid.children.length === 0) {
                        blogGrid.innerHTML = '<p style="text-align: center; grid-column: 1/-1;">No blog posts found. Add HTML files to see them here.</p>';
                    }
                } catch (error) {
                    console.error('Error loading blog posts:', error);
                    document.getElementById('blogGrid').innerHTML = '<p style="text-align: center; grid-column: 1/-1;">Error loading blog posts. Please try again later.</p>';
                }
            }
            
            // Initialize the blog
            loadBlogPosts();
        });
    </script>
</body>
</html>
